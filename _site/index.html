<!DOCTYPE html>
<html>
  <head>
    <title>mister-pokeylope</title>
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <link rel="stylesheet" type="text/css" href="/css/syntax.css">
    <meta charset="UTF-8"> 
  </head>
  <body>
    <nav>
      <div class="wrapper">
        <h3>mister-pokeylope</h3>
        <ul class="menu">
          <li class="nav-item">
            
              <a class="nav-link-current" href="/">Home</a>
            
          </li>
          <li class="nav-item">
            
              <a class="nav-link" href="/about/">About</a>
            
          </li>
          <li class="nav-item">
            
              <a class="nav-link" href="/contact/">Contact</a>
            
          </li>
          <li class="nav-item">
            
              <a class="nav-link" href="/archive/">Archives</a>
            
          </li>
        </ul>
      </div>
    </nav> 
            
    <br>
    <section>
  <div class="wrapper">
    <h1>Blog Posts</h1>
    
      <div class="line-separator"></div>
      <article>
        <h2>17 May 2014 &raquo; OmniROM</h2>
        <div class="post">
          <p>Like many other tech-competetent/masochistic Android users I enjoy using custom
Android ROMs on my devices. Although my Galaxy Nexus and Nexus 10 were, and
would have continued to be, perfectly fine running stock Android I always found
it to be a bit lacking in a few areas, mainly in the customization department.</p>

<p>On my phone, I&#39;ve always used CyanogenMod due to the (percieved) stability and
fact that they still actively support the Sprint version of the Galaxy Nexus,
but I&#39;ve become warry of their direction after they went commercial. Unlike my 
phone, my Nexus 10 doesn&#39;t have any sort of critical functionality that 
could potentially be botched by bleeding edge ROMs. I&#39;ve tried the other two 
big players in the ROM market, but still didn&#39;t stick with them. While both are
great choices in their own right, I found Paranoid Android and AOKP to have 
<em>too many</em> features for my liking... </p>

<p>I like to have something closer to Stock, but without a huge amount of features 
I never use. I also tried the many offshoots of these three that frankenstein 
a bunch of features from all three, but encountered too many stability issues, 
or just too many unused features and component. Then while browsing the XDA 
Developers forums, I heard about a new player: <a href="http://omnirom.org/">OmniROM</a>.</p>

<p>OmniROM is developed by some of the bigger players in the Android development
community and in many ways it is has set out to accomplish what CyanogenMod 
is/used to be. Their goals include developing new open source software and 
enhancements for the wider Android community to benefit from, while providing
a simple, close to stock experience. The current nightlies are based on Android
4.4.2, and support a healthy and growing number of devices.</p>

<p>Thus far some of the more interesting features to the ROM include:</p>

<ul>
<li><strong>Multiwindow</strong> (Still in development)</li>
<li><strong>OpenDelta:</strong> Over the air <a href="http://en.wikipedia.org/wiki/Delta_update">delta updates</a></li>
<li><strong>OmniSwitch:</strong> A replacement for the standard Android App Switcher, with more 
features, and a favorites list for Apps.</li>
<li><strong>Active Display:</strong> Displays notifications on the screen, when it is off.</li>
</ul>

<p><img src="/img/omniswitch-thumb.png" alt="omniswitch"></p>

<p>There&#39;s many smaller features such as being able to change the placement of the
clock, or being able to adjust the size of the soft buttons, and a home-grown 
file manager. However, one of the aspects I value most of this ROM is their 
stance on Nightly Releases.</p>
<div class="highlight"><pre><code class="language-" data-lang="">We also recognise how people use Custom ROMs – we’re all custom ROM users and
developers ourselves – the argument that “nightlies are not for end users” is
over-used, and no longer valid. We’ve found that the vast majority of users
want to get nightly updates to their ROM. For that reason, nightlies aren’t a
playground – nightlies are for new features that are finished. You should be
able to expect the same stability and reliability from a nightly as you would
from a “release” ROM, and can report any bugs that prevent this from happening.
</code></pre></div>
<p>-(<a href="http://omnirom.org/about/">About Omni</a>)</p>

<p>And in the six or so months that I have been using Omni I have found this to be
incredibly true. I&#39;ve yet to encounter any serious crash or instability while
on any of the nightlies, which were all installed with OpenDelta. While I quite
often have issues with OpenDelta stopping in the middle of downloading updates,
It&#39;s always produced working updates, despite somewhat enlongated waiting. A
word of warning however is that OpenDelta currently only supports TWRP
recovery at this moment, since cwm doesn&#39;t officially support the scripting 
that OpenDelta requires.</p>

<p><img src="/img/opendelta-thumb.png" alt="opendelta"></p>

<p>That said, OmniROM is still very much a work in progress and currently does not
have a &quot;stable&quot; release. Despite the relative stability of the nightlies, some
users may not be comfortable using it until a stable release has been made. But
for those who are feeling slightly adventurous, I would wholeheartedly
recommend giving OmniROM a shot, especially to those who are not completely
happy with their current ROM. If nothing else, OmniROM has a ton of potential
that is very quickly being recognized with their fast and stable releases.</p>

          <a href="/posts/android/2014/05/17/omnirom/">permalink</a>
        </div>
      </article>
    
      <div class="line-separator"></div>
      <article>
        <h2>09 May 2014 &raquo; Configuring iptables</h2>
        <div class="post">
          <p>With the recent fixing of my &quot;network issues&quot;, I have been putting more time
and effort in to making sure everything, from the website to the Raspberry Pi,
is cleaned out after it&#39;s Winter hibernation. Upon reading some of journald&#39;s
log files (which I&#39;d noticed grew somewhat quickly), I discovered a flood of
failed remote login attempts, clustered at different times of the day, and all
attempting to login from high numbered ports, with users that don&#39;t exist on the
system. A quick <code>whois</code> lookup on the IPs revealed that they&#39;re locations from 
all over the world, so most likely bots looking for easy access to insecure 
systems.</p>

<p>Before the downtime I had not bothered to setup any sort of protection on the
Pi since I figured that my domain was still relatively new and unknown. While
it&#39;s still pretty unkown, I have it posted in public places now, and have it
indexed by Google, so this most likely allows intrepid spam-bots to find my
domain relatively easily. While programs like <a href="http://www.fail2ban.org/wiki/index.php/Main_Page">fail2ban</a> or disabling
ssh all together could have remedied the problem, I went for a much less
passive approach, and decided to set up a firewall.</p>

<p>Linux has plenty of software firewall solutions, but naturally I decided to go 
with <a href="http://en.wikipedia.org/wiki/Iptables">iptables</a>, the Linux kernel&#39;s built-in firewall. I&#39;m fully
aware of <a href="https://wiki.archlinux.org/index.php/Nftables">nftables</a>, the sucessor to iptables, but since Arch Linux
ARM currently has the 3.10 Kernel as it&#39;s &quot;stable&quot; Kernel version this option 
is not available to me yet. I plan on using it however, once it fully 
replaces iptables in the kernel.</p>

<p>While it&#39;s a powerful tool, iptables is not the easiest to setup for those
inexperienced with firewalls, like me. Fortunately the fantastic Arch Wiki has
<a href="https://wiki.archlinux.org/index.php/Simple_stateful_firewall">an entire article for setting up a stateful firewall</a> with iptables. </p>

<p>Admittedly it didn&#39;t go as smoothly as I thought it would, entirely due to
PEBKAC issues, and setting it up over an ssh connection. As one could
imagine setting the <code>INPUT DROP</code> policy before configuring the SSH
related chain will quickly lead to an unproductive session, especially when one
doesn&#39;t have immediate physical access to the Raspberry Pi.</p>

<p>Luckily for me the article in question has a helpful explination of what each
command did at each step, so at least I wouldn&#39;t feel too bad about the fact 
I mainly copy and pasted the commands that I felt I needed. While I still don&#39;t
know a significant amount about iptables yet, I feel I now at least have a 
basic understanding, that suits a machine that only servers out a simple 
webserver.</p>

<p>For those interested, I threw together a quick bash script that more or less 
matches the rules and chains I have in place. This must be run as root, so 
<em>use with caution</em>.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">#!/usr/bin/bash</span>

<span class="c"># User defined chains</span>
<span class="nb">echo</span> <span class="s2">"Setting user defined Chains"</span>
iptables -N TCP
iptables -N UDP
<span class="nb">echo</span> <span class="s2">"Done"</span>

<span class="c"># Set default policies</span>
<span class="nb">echo</span> <span class="s2">"Setting Policies"</span>
iptables -P FORWARD DROP
iptables -P OUTPUT ACCEPT
<span class="nb">echo</span> <span class="s2">"Done"</span>

<span class="c"># Set rules</span>
<span class="nb">echo</span> <span class="s2">"Setting rules"</span>
iptables -A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
iptables -A INPUT -i lo -j ACCEPT
iptables -A INPUT -m conntrack --ctstate INVALID -j DROP
iptables -A INPUT -p icmp --icmp-type 8 -m conntrack --ctstate NEW -j ACCEPT
<span class="nb">echo</span> <span class="s2">"Done"</span>

<span class="c"># Attach TCP/UDP chains to INPUT</span>
<span class="nb">echo</span> <span class="s2">"Attaching TCP/UDP chains to INPUT"</span>
iptables -A INPUT -p udp -m conntrack --ctstate NEW -j UDP
iptables -A INPUT -p tcp --syn -m conntrack --ctstate NEW -j TCP
<span class="nb">echo</span> <span class="s2">"Done"</span>

<span class="c"># Open ports for services</span>
<span class="nb">echo</span> <span class="s2">"Opening ports for HTTP, HTTPS, DNS, and SSH"</span>
iptables -A TCP -p tcp --dport 80 -j ACCEPT
iptables -A TCP -p tcp --dport 443 -j ACCEPT
iptables -A UDP -p udp --dport 53 -j ACCEPT
iptables -A TCP -p tcp --dport 22 -j ACCEPT
<span class="nb">echo</span> <span class="s2">"Done"</span>

<span class="c"># Reject everything else</span>
iptables -P INPUT DROP

<span class="c"># Save Settings</span>
<span class="nb">echo</span> <span class="s2">"Saving settings to /etc/iptables/iptables.rules"</span>
iptables-save &gt; /etc/iptables/iptables.rules
<span class="nb">echo</span> <span class="s2">"Done"</span>
</code></pre></div>
<p>Of course, there is more I need to do, such as disabling logins for SSH, and only
allowing access via SSH keys. That being said, there&#39;s nothing particularly
interesting/useful/valuable on my Raspberry Pi in the first place.</p>

          <a href="/posts/linux/2014/05/09/iptables/">permalink</a>
        </div>
      </article>
    
      <div class="line-separator"></div>
      <article>
        <h2>04 May 2014 &raquo; IT LIVES!</h2>
        <div class="post">
          <p>About four months ago we got fed up with how hit or miss
our WOW! provided router was, and replaced the wireless functions of
the offending Router/Modem abomination with a real wireless router. Somehow the
port forwarding and DHCP reservations for my Pi were disrupted, and
my website went down. Due to how busy this recent semester
at school was, I didn&#39;t have much time/energy (except I kinda did sometimes) to deal
with getting it back up and running. Since I had a bit of free time between
Spring and Summer semester (almost an entire week!), I didn&#39;t have much of an
excuse to not deal with it.</p>

<p>Fortunately my four-month-out-of-date Arch Linux ARM install survived the most
massive system update it will hopefully ever have to deal with, and other
than not having enough space the first try due to an unemptied Pacman cache,
it&#39;s up and running, happy as can be.</p>

<p>Despite broken promises of real content and what not, I will still try to put
some stuff out every now and then, even though my final two semesters at school
are looking to be just as busy as my most recent ones.</p>

          <a href="/posts/site/2014/05/04/it-lives/">permalink</a>
        </div>
      </article>
    
      <div class="line-separator"></div>
      <article>
        <h2>02 Jan 2014 &raquo; New Year, Hopefully New Content</h2>
        <div class="post">
          <p>Hopefully in the coming year I am able/willing to make more posts with
content more interesting content than changes I made to the internals of this blog.
However, I&#39;ve reached a plateau in terms of changes I want to make, so there
isn&#39;t much more I can even post about it. Recently I&#39;ve embedded Mozilla&#39;s <a href="http://mozilla.github.io/Fira/">Fira
Typeface</a> in place of the user&#39;s predefined font. The new fonts should show up just
fine on Firefox and webkit browsers, but I have no idea about Internet Explorer other than IE11, 
or others. Just in case there are other pleasant fallbacks in place. The site may
load a bit slower now since it has to load the fonts, but it shouldn&#39;t be too
noticable.</p>

<p>The favicon is a new addition as well. It&#39;s nothing special, but the extremely
observant reader would have noticed that the letters &#39;m&#39; and &#39;p&#39; were made using
the Mr. Saturn font from the game Earthbound (a personal favorite of mine)!</p>

<p><img src="/img/saturnboing.png" alt="boing"></p>

<p>(font and image courtesy of <a href="http://earthboundcentral.com/2009/11/ultimate-earthbound-font-pack/">Earthbound Central</a>)</p>

<p>UPDATE (12 May 2014):
The Sans Serif font is <a href="http://www.google.com/fonts/specimen/Noto+Sans">Noto Sans</a> and the Monospaced font is <a href="https://www.google.com/fonts/specimen/Ubuntu+Mono">Ubuntu
Mono</a></p>

          <a href="/posts/site/2014/01/02/new-year/">permalink</a>
        </div>
      </article>
    
      <div class="line-separator"></div>
      <article>
        <h2>16 Dec 2013 &raquo; New Name! Same Great Taste!</h2>
        <div class="post">
          <p>Earlier today I finally bit the proverbial bullet and purchased a domain for
this site. I now own the misterpokeylope.com domain, and will be using
it instead of the old mrpokeylope.mooo.com. I set up a redirect from the old 
URL to the new one and such, but at this point it&#39;s deprecated.</p>

<p>All of the dynamic DNS services are still provided by FreeDNS, and everything is
still hosted on my Raspberry Pi, so absolutely nothing has changed other than
the URL. Recently I discovered that my website could not be indexed by Google or
other search engines due to the polices of using a free shared subdomain from FreeDNS. 
So now, the hope is that people will actually be able to find this site 
without me having to give a link out...</p>

<p>$15 well spent I suppose.</p>

          <a href="/posts/site/2013/12/16/new-name/">permalink</a>
        </div>
      </article>
    

    <div class="line-separator"></div>

      <!-- Pagination links -->
    <div class="post">
      
      <span class="page_number ">Page: 1 
          of 3</span>
      
        <a href="page2" class="next">Next</a>
      
    </div>
  </div>
</section>
  
    <br>

    <footer>
      <div class="wrapper">
        <a href="http://www.w3.org/html/logo/" class="logo" 
            target="_blank">
          <img src="/html5-badge.png" width="165" height="64" 
          alt="HTML5 Powered with CSS3 / Styling, and Semantics" 
          title="HTML5 Powered with CSS3 / Styling, and Semantics">
        </a>
        <p class="foot">
          My intent is to keep this website HTML5 and CSS3
          compliant. All code has been validated with the <a  
          href="http://validator.w3.org/check?uri=http%3A%2F%2Fwww.misterpokeylope.com%2F" 
          target="_blank"> W3C Markup Validation Service</a> and the <a 
          href="http://jigsaw.w3.org/css-validator/validator?uri=www.misterpokeylope.com"
          target="_blank">W3 CSS Validation Service</a>. 
          CSS(3) vendor prefixes are used where available, with
          priortity given to Firefox and WebKit compatibility.
          Full and constant compatibility across all browers is not guaranteed. 
          <br>
          DNS services provided by <a href="http://freedns.afraid.org/" 
              target="_blank">FreeDNS</a>. Powered by <a href="http://nginx.org/" 
              target="_blank">nginx</a> and <a href ="http://archlinuxarm.org/"
              target="_blank">Arch Linux ARM</a>. Built with <a
              href="http://jekyllrb.com/" target="_blank">Jekyll</a>.
        </p>
      </div>
    </footer>
  </body>
</html>
