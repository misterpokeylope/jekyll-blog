<!DOCTYPE html>
<html>
  <head>
    <title>mister-pokeylope</title>
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <link rel="stylesheet" type="text/css" href="/css/syntax.css">
    <meta charset="UTF-8"> 
  </head>
  <body>
    <div class="wrapper">
      <h3>mister-pokeylope</h3>
      <nav>
        <ul class="menu">
          <li class="nav-item">
            
              <a class="nav-link-current" href="/">Home</a>
            
          </li>
          <li class="nav-item">
            
              <a class="nav-link" href="/about/">About</a>
            
          </li>
          <li class="nav-item">
            
              <a class="nav-link" href="/contact/">Contact</a>
            
          </li>
          <li class="nav-item">
            
              <a class="nav-link" href="/archive">Archives</a>
            
          </li>
        </ul>
      </nav> 
    </div>
            
    <br>
    <div class="wrapper">
  <h1>Blog Posts</h1>
  
    <div class="line-separator"></div>
    <h2>16 Dec 2013 &raquo; New Name! Same Great Taste!</h2>
      <div class="post">
        <p>Earlier today I finally bit the proverbial bullet and purchased a domain for
this site. I now own the misterpokeylope.com domain, and will be using
it instead of the old one. I will set up a redirect from the old one to the new
one and such, but at this point it&#39;s deprecated.</p>

<p>All of the dynamic DNS stuff is still provided by FreeDNS, and everything is
still hosted on my RaspberryPi, so absolutely nothing has changed other than
the URL. Before, I discovered that my website could not be indexed by Google or
other search engines due to the polices of using a shared subdomain. So now, the
hope is that people will actually be able to find this site, without me having
to give a link out...</p>

<p>$15 well spent I suppose.</p>

        <a href="/posts/2013/12/16/new-name/">permalink</a>
      </div>
  
    <div class="line-separator"></div>
    <h2>12 Dec 2013 &raquo; Comments and Pagination</h2>
      <div class="post">
        <p>Now that I&#39;ve done further, most likely unnoticable, refinements to this site,
I have been tossing the idea around of adding a comments section to each of the
permalinked posts. There seem to be a fair number of static comment plugins
already available, so it sounds like it would be brain dead easy to add something
simple in. I&#39;m going to avoid complicated things like Disqus since it seems
like overkill for the &quot;whopping amount&quot; of traffic this website generates. I
will continue looking into more static solutions, since it would make it harder
for this place to just become a nest for spam bots.</p>

<p>In other news I&#39;ve implemented/fixed pagination for this site, using Jekyll&#39;s built in 
pagination. I&#39;ve technically had the code there the whole time, but since I had less than 
5 posts up until now, it didn&#39;t do anything. It was broken anyways due to <code>previous</code>
looking for <code>page1/</code>, which is not generated by my configuration. All that was
needed was an addition if-else clause with Liquid, and everything works as
intended. It&#39;s such a simple fix that I don&#39;t even know why Jekyll includes <a href="http://jekyllrb.com/docs/pagination/#render_the_paginated_posts">the
broken example</a> on their page.</p>

<p>For the curious out there, here&#39;s my version:</p>

<p><code>index.html</code></p>
<div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;pagination&quot;</span><span class="nt">&gt;</span>
  {% if paginator.previous_page %}
    {% if paginator.previous_page == 1 %}
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>Previous<span class="nt">&lt;/a&gt;</span>
    {% else %}
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;page{{ paginator.previous_page }}&quot;</span><span class="nt">&gt;</span>Previous<span class="nt">&lt;/a&gt;</span>
    {% endif %}
  {% else %}
    <span class="nt">&lt;span&gt;</span>Previous<span class="nt">&lt;/span&gt;</span>
  {% endif %}
  <span class="nt">&lt;span&gt;</span>Page: {{ paginator.page }} of {{ paginator.total_pages }}<span class="nt">&lt;/span&gt;</span>
  {% if paginator.next_page %}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;page{{ paginator.next_page }}&quot;</span><span class="nt">&gt;</span>Next<span class="nt">&lt;/a&gt;</span>
  {% else %}
    <span class="nt">&lt;span&gt;</span>Next<span class="nt">&lt;/span&gt;</span>
  {% endif %}
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>
<p>And that&#39;s really all it takes. I also tried the overly complicated fix they
have listed below, and fought with it far more than I should have (as in I had
to fight with it at all), and just settled on my slight modification instead.
Sure, I could have had links to multiple pages instead of just having &quot;next&quot;
and &quot;previous&quot;, but who cares? That&#39;s what the <a href="/archive">archives</a> are for!</p>

        <a href="/posts/2013/12/12/comments-and-pages/">permalink</a>
      </div>
  
    <div class="line-separator"></div>
    <h2>06 Dec 2013 &raquo; Why Jekyll?</h2>
      <div class="post">
        <p>In my first post, I gave a couple of vague reasons why I decided to use Jekyll
to create this website, as opposed to something like Ruby on Rails. Having 
recently used Rails for a school project, I can understand the appeal of using such
a framework. It can be used to create powerful dynamic web apps with a range of
useful tools and features. But for what I wanted out of this website, Rails would 
be like bringing a nuclear missile to a water gun fight. It&#39;s simply offers far
more features than what I need. </p>

<p>Rails gives me the chance to build my own blog platform, while Jekyll <em>is</em> a 
blog platform, which allows me to focus on the blog itself, rather than writing 
and maintaining everything. While it would give me complete
control over every aspect of my website, I am simply not interested in this
level of control for such a small website. I feel comparing
Jekyll and Rails is not fair because they are just two  different
tools that both happen to be able to accomplish the same task. </p>

<p>Since I&#39;m far more interested in showing what I like about Jekyll than I am in 
comparing and contrasting Jekyll and Rails, I will keep the comparisons to a minimum. </p>

<p>Jekyll is as its website describes, &quot;a simple, blog-aware, static site
generator&quot;, nothing more, nothing less. Since it&#39;s just a ruby script, issuing 
a simple <code>gem install jekyll</code> in a terminal is all it takes to have everything 
installed, much like Rails. Again similar to Rails, one can then generate the
scaffolding for a new blog by issuing <code>jekyll new blog</code>.</p>

<p>This is where the two diverge however, with Jekyll taking a simpler path, as
far as blogs are concerned. Navigating into a newly generated blog directory 
gives a simple directory structure.</p>

<p><code>blog/</code></p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">_layouts/
_posts/
_site/
css/
_config.yml
index.html
</code></pre></div>
<p>Even at first glance this structure is fairly simple to follow. Jekyll divides
sites into three main components, layouts, posts, and CSS. Since each of these
parts are constructed very differently from one another, it was a very sane
choice to give each their own directory. </p>

<p>This layout is very easy to extend as well. For example, if JavaScript is needed then all
that needs to be done is adding a <code>js/</code> directory to the root of the blog
directory, and it will be included in the final <code>_site/</code> folder after
generation.</p>

<p>Jekyll layouts use mainly HTML/CSS, spattered with <a href="https://github.com/Shopify/liquid/wiki/Liquid-for-Designers">Liquid Markup</a>
that gets interpreted to HTML at build-time. Again, if this sounds somewhat similar to
how Rails works, that&#39;s because it is.</p>

<p>A good example of how this works is the following:</p>

<p><code>_layouts/default.html</code></p>
<div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>{{ page.title }}<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;nav&gt;</span>
      ...
    <span class="nt">&lt;/nav&gt;</span>
    {{ content }}
    <span class="nt">&lt;footer&gt;</span>
      ...
    <span class="nt">&lt;/footer&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<p>Then in <code>index.html</code> all that is needed is:</p>
<div class="highlight"><pre><code class="html language-html" data-lang="html">---
layout: default
title: Home
---

<span class="nt">&lt;p&gt;</span>Look at this snazzy navbar and footer!<span class="nt">&lt;/p&gt;</span>
</code></pre></div>
<p>When <code>jekyll build</code> is run, the content of <code>index.html</code> will be combined with
<code>_layouts/default.html</code>, with the index content being placed in the <code>content</code> tag,
and the complete page(s), along with any CSS, will be placed in the <code>_sites/</code> directory. 
By just using the YAML front matter at the top of a page,
any page on the website can how have the navbar and footer, eliminating
redundancy or inconsistencies between creating multi-page websites. I found
this to be a very simple method to create consistency, while still maintaining
a certain level of control for each page.</p>

<p>Since a huge reason to use Jekyll is for the blog features, it helps that
creating blog posts is simple as well. Each blog post is written in markdown
and needs to be placed in the <code>_posts/</code> directory, with each following a naming
convention like <code>2013-12-6-why-jekyll.markdown</code>. Each post needs some YAML
front matter for Jekyll to construct everything properly, but the rest can be
written in pure markdown.</p>

<p><code>_posts/2013-12-6-why-jekyll.markdown</code></p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">---
layout: default
title: &quot;Why Jekyll?&quot;
date: 2013-12-6
categories: posts
---

I dunno, _you_ tell me!
</code></pre></div>
<p>Jekyll makes it very simple to extend layouts for specific purposes, such as
dedicated pages for a post, using YAML front matter:</p>

<p><code>_layouts/post.html</code></p>
<div class="highlight"><pre><code class="html language-html" data-lang="html">---
layout: default
---

<span class="nt">&lt;h2&gt;</span>{{ page.title }}<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;meta&quot;</span><span class="nt">&gt;</span>{{ page.date | date_to_string }}<span class="nt">&lt;/p&gt;</span>

{{ content }}
</code></pre></div>
<p>Now each dedicated post page can display the title and post date in a
header just by specifying the post layout in the YAML front matter.</p>

<p>Of course, Jekyll has even more to offer, like built in pagination, syntax
highlighting, and countless plugins, but I&#39;m not about to go on and on about it
for that long. Jekyll has so far been very pleasant to work with, and I can&#39;t
imagine switching to anything else any time soon.</p>

        <a href="/posts/2013/12/06/why-jekyll/">permalink</a>
      </div>
  
    <div class="line-separator"></div>
    <h2>21 Nov 2013 &raquo; Simple OfflineIMAP Notifications with libnotify</h2>
      <div class="post">
        <p>Mutt in combination with OfflineIMAP and Msmtp is easily the least sucky mail setup
I&#39;ve used, but because of it&#39;s simplicity, it&#39;s missing one thing that I 
like to have: visual notifications for new mail. In my <a href="https://bbs.archlinux.org/viewtopic.php?id=149444">bspwm</a> 
and <a href="http://dwm.suckless.org/">dwm</a> setups, I like to keep mutt running in a terminal window, 
in a dedicated workspace or tag respectively. Short of obsessively switching 
back and forth to the mutt terminal, I don&#39;t have a clean and efficient 
way to know immediately when I revieve a new email.</p>

<p>I found some scripts that can accomplish this on the Arch Linux forums, but
they were more complex than what I wanted. Instead I wrote a short bash script 
to run OfflineIMAP and display the number of new emails, if any. With some googling and 
some help from the fine people over on the Arch Linux forums, I got this working 
with few issues.</p>

<p>The entire process was fairly straightforward, so here&#39;s a little how-to: </p>

<p>Make sure to have your OS&#39; version of <code>libnotify</code> installed 
before you begin, and a notification daemon for <code>notify-send</code> 
to communicate with. I personally use <a href="https://www.archlinux.org/packages/community/x86_64/dunst/">dunst</a> because it&#39;s 
lightweight and simple to setup, but there are <a href="https://wiki.archlinux.org/index.php/Libnotify#Builtin_servers">many other choices</a> 
that also work.</p>

<p>We can put the following in a file called <code>offlineimap-notify.sh</code>: </p>
<div class="highlight"><pre><code class="bash language-bash" data-lang="bash"><span class="c">#!/usr/bin/bash</span>

<span class="c">#run OfflineIMAP once, with quiet interface</span>
offlineimap -o -q -u quiet

<span class="c">#count new mail for every maildir</span>
<span class="nv">maildirnew</span><span class="o">=</span><span class="s2">&quot;$HOME/Mail/*/*/new/&quot;</span>
<span class="nv">new</span><span class="o">=</span><span class="s2">&quot;$(find $maildirnew -type f | wc -l)&quot;</span>

<span class="c">#count old mail for every maildir</span>
<span class="nv">maildirold</span><span class="o">=</span><span class="s2">&quot;$HOME/Mail/*/*/cur/&quot;</span>
<span class="nv">old</span><span class="o">=</span><span class="s2">&quot;$(find $maildirold -type f | wc -l)&quot;</span>

<span class="k">if</span> <span class="o">[</span> <span class="nv">$new</span> -gt 0 <span class="o">]</span> 
<span class="k">then</span>
<span class="k">    </span><span class="nb">export </span><span class="nv">DISPLAY</span><span class="o">=</span>:0<span class="p">;</span> <span class="nb">export </span><span class="nv">XAUTHORITY</span><span class="o">=</span>~/.Xauthority<span class="p">;</span> 
    notify-send -a <span class="s2">&quot;OfflineIMAP&quot;</span> <span class="s2">&quot;New mail!\nNew: $new Old: $old&quot;</span>
<span class="k">fi</span>
</code></pre></div>
<p>Make sure the script is executable, and put it in your <code>$PATH</code> if you wish.</p>

<p>It will count all of the files in the <code>~/Mail</code> directory and send a notification 
if there new ones. You may need to modify the counting section to your needs, depending
on the location of your Maildirs.</p>

<p>The <code>export DISPLAY=:0; export XAUTHORITY=~/.Xauthority;</code> part is neccessary, 
in my case, when running the script from a cron job, since cron will normally 
not have access to the environmental display variables. I also tried to use
this script with a systemd timer unit, in a systemd User instance, but I 
was unable to get it to display the notifcations, even though it was syncing
my mail properly. If I can find a solution to this I will create a follow-up
post with my findings.</p>

<p>We can run the script every 3 minutes with cron:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">*/3 * * * * ~/Scripts/offlineimap-notify.sh
</code></pre></div>
<p>Now you should have a lovely little notification every time you get a new 
email! Simple as that.</p>

<p><a href="/mutt.png">Click for example!</a> (1024x600 728K)</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">Notes: 

If your OS keeps bash in /bin, then please change the shebang line 
to reflect that. Arch Linux keeps all binaries in /usr/bin but most other 
OS&#39; don&#39;t.

Regarding my use of `find`: 
I am aware that in general parsing the output of `find` and `ls` can be problematic 
in certain circumstances. However, OfflineIMAP should not produce 
file names that are problematic, so ideally I should not see these issues. 
Any suggestions are more than welcome as I am still fairly new to bash
scripting myself.
</code></pre></div>
        <a href="/posts/2013/11/21/offlineimap-notifications/">permalink</a>
      </div>
  
    <div class="line-separator"></div>
    <h2>20 Nov 2013 &raquo; Unexpected Downtime</h2>
      <div class="post">
        <p>Over the past few days, as probably nobody noticed, the website was
inaccessible. I&#39;m thinking it started partly due to me accidentally changing some
of my port forwarding settings, along with WOW!&#39;s general suckiness, and some
other issue with my Raspberry Pi. </p>

<p>Whatever the issue was, I finally got around
to rebooting the Raspberry Pi, and everything seems to be working again. Such a
Windows-style solution!</p>

        <a href="/posts/2013/11/20/unexpected-downtime/">permalink</a>
      </div>
  

      <!-- Pagination links -->
  <div class="line-separator"></div>
  <div class="post">
    
    <span class="page_number ">Page: 1 
        of 2</span>
    
      <a href="page2" class="next">Next</a>
    
  </div>
</div>
  
    <br>

    <footer>
      <div class="wrapper">
        <a href="http://www.w3.org/html/logo/" class="logo" 
            target="_blank">
          <img src="/html5-badge.png" width="165" height="64" 
          alt="HTML5 Powered with CSS3 / Styling, and Semantics" 
          title="HTML5 Powered with CSS3 / Styling, and Semantics">
        </a>
        <p class="foot">
          My intent is to keep this website HTML5 and CSS3
          compliant. All code has been validated with the <a  
          href="http://validator.w3.org/check?uri=http%3A%2F%2Fmrpokeylope.mooo.com%2F" 
          target="_blank"> W3C Markup Validation Service</a> and the <a 
          href="http://jigsaw.w3.org/css-validator/validator?uri=http%3A%2F%2Fmrpokeylope.mooo.com%2F"
          target="_blank">W3 CSS Validation Service</a>. 
          CSS(3) vendor prefixes are used where available, with
          priortity given to Firefox and WebKit compatibility.
          Full and constant compatibility across all browers is not guaranteed. 
          <br>
          DNS services provided by <a href="http://freedns.afraid.org/" 
              target="_blank">FreeDNS</a>. Powered by <a href="http://nginx.org/" 
              target="_blank">nginx</a>. Built using <a
              href="http://jekyllrb.com/" target="_blank">Jekyll</a>.
        </p>
      </div>
    </footer>
  </body>
</html>
